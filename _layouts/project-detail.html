---
layout: default
---

<section class="project-hero" style="background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('{{ page.image | relative_url }}');">
  <div class="container h-100 d-flex align-items-center">
    <div class="text-white">
      <span class="text-uppercase letter-spacing-2">{{ page.status }} Project</span>
      <h1 class="display-3 font-weight-bold">{{ page.title }}</h1>
    </div>
  </div>
</section>
{% if page.before-image %}
  {% if page.after-image %}
    <div class='before-image-container'>
      <div class='img background-img'></div>
        <div class='img foreground-img'></div>
        <input type="range" min="1" max="100" value="50" class="background-image-slider" name='background-slider' id="background-slider">
        <div class='background-slider-button'></div>
    </div>
  {% endif %}
{% endif %}

<div class="container pt-5 pb-5">
  <div class="row">
    <div class="col-lg-8">
      <h2 class="mb-4">Project Overview</h2>
      <div class="content">
        {{ content }}
      </div>
    </div>

    <div class="col-lg-4">
      <div class="project-sidebar p-4 bg-light rounded shadow-sm">
        <h4 class="mb-3 font-weight-bold">Project Details</h4>
        <ul class="list-unstyled">
          <li class="mb-3 border-bottom pb-2">
            <strong>Location:</strong> <span class="float-right text-muted">{{ page.location }}</span>
          </li>
          <li class="mb-3 border-bottom pb-2">
            <strong>Category:</strong> <span class="float-right text-muted">{{ page.category }}</span>
          </li>
          <li class="mb-3">
            <strong>Timeline:</strong> <span class="float-right text-muted">{{ page.completion_date }}</span>
          </li>
        </ul>
        <a href="/contact" class="btn btn-primary btn-block mt-3">Enquire Now</a>
      </div>
    </div>
  </div>
</div>
{% if page.before-image %}
  {% if page.after-image %}
    <style>
      /* Responsive Container */
      .before-image-container {
        position: relative;
        width: 100%; /* Spans full width of parent */
        max-width: 900px; /* Limits size on large screens */
        margin: 0 auto; /* Centers the slider */
        aspect-ratio: 3 / 2; /* Maintains your 900x600 ratio automatically */
        border: 2px solid white;
        overflow: hidden; /* Keeps images inside borders */
      }

      /* Base Image Styles */
      .before-image-container .img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-size: cover; /* Ensures image fills area without stretching */
        background-position: left center;
      }

      .before-image-container .background-img {
        background-image: url('{{page.before-image}}');
      }

      .before-image-container .foreground-img {
        background-image: url('https://i.imgur.com/PfIWek4.jpg');
        width: 50%; /* Initial split position */
        z-index: 1;
      }

      /* The Invisible Range Input Slider */
      .before-image-container .background-image-slider {
        position: absolute;
        -webkit-appearance: none;
        appearance: none;
        width: 100%;
        height: 100%;
        background: rgba(242, 242, 242, 0.1);
        outline: none;
        margin: 0;
        transition: background 0.2s;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 3; /* Top layer for touch/click events */
      }

      .before-image-container .background-image-slider:hover {
        background: rgba(242, 242, 242, 0.05);
      }

      /* The Vertical White Line (Thumb) */
      .before-image-container .background-image-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 4px; /* Slightly thinner for better mobile look */
        height: 100vh; /* Ensures it covers the container height */
        background: white;
        cursor: ew-resize;
      }

      .before-image-container .background-image-slider::-moz-range-thumb {
        width: 4px;
        height: 100vh;
        background: white;
        cursor: ew-resize;
        border: none;
      }

      /* The Circular Button with Arrows */
      .before-image-container .background-slider-button {
        pointer-events: none;
        position: absolute;
        width: 40px; /* Slightly larger for better touch targets */
        height: 40px;
        border-radius: 50%;
        background-color: white;
        left: 50%; /* Positioned by JS usually, but defaults to center */
        top: 50%;
        transform: translate(-50%, -50%); /* Keeps it perfectly centered */
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 2;
        box-shadow: 0 0 10px rgba(0,0,0,0.2);
      }

      .before-image-container .background-slider-button:after,
      .before-image-container .background-slider-button:before {
        content: '';
        padding: 3px;
        display: inline-block;
        border: solid #5D5D5D;
        border-width: 0 2px 2px 0;
      }

      .before-image-container .background-slider-button:after {
        transform: rotate(-45deg);
        margin-left: 2px;
      }

      .before-image-container .background-slider-button:before {
        transform: rotate(135deg);
        margin-right: 2px;
      }

      /* Mobile Adjustments */
      @media (max-width: 768px) {
        .before-image-container .background-slider-button {
          width: 34px;
          height: 34px;
        }
      }
    </style>

    <script>
      const slider = document.getElementById("background-slider");
      const foregroundImg = document.querySelector(".foreground-img");
      const sliderButton = document.querySelector(".background-slider-button");

      function updateSlider(e) {
        const sliderPos = e.target.value;

        // Update the width of the foreground image
        foregroundImg.style.width = sliderPos + "%";

        // Update the position of the slider button
        sliderButton.style.left = `calc(${sliderPos}% - 18px)`;
      }

      slider.addEventListener("input", updateSlider);
      slider.addEventListener("change", updateSlider);
      </script>
  {% endif %}
{% endif %}
